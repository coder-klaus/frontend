```js
import fs from 'node:fs/promises'

// 写入文件
await fs.writeFile('./data.txt', 'Hello World')
```



```js
import fs from 'node:fs/promises'

// 写入文件
await fs.writeFile('./data.txt', 'Hello World')

// 第二个参数是配置对象，可以设置编码和flag值
// 1. 默认编码是utf-8
// 2. 默认flag是w 「 覆盖写入 」
// 3. 如果flag是a，则表示追加写入
await fs.writeFile('./data.txt', '\nHello World', { flag: 'a', encoding: 'utf-8' })

// 如果 flag为 a 则存在别名函数 appendFile
// 写入内容开头的 \n 表示换行 => 另起一行后进行追加
await fs.appendFile('./data.txt', '\nHello World')
```



常见的`flag`值

> 除了读取文件「 `r` 和  `r+` 」时，对应文件必须存在
>
> 其余情况下，如果文件不存在，会自动创建对应文件

| 值   | 说明                                                     |
| ---- | -------------------------------------------------------- |
| w    | 覆盖写入<br />只能写<br />writeFile方法，flag的默认值    |
| w+   | 覆盖写入<br />可读可写                                   |
| a    | 追加写入<br />只能写<br />appendFile方法中，flag的默认值 |
| a+   | 追加写入<br />可读可写                                   |
| r    | 读取内容<br />只能读<br />readFile方法，flag的默认值     |
| r+   | 读取内容<br />可读可写                                   |

一般情况下，只要使用`w`、`a`、`r`就可以了，`w+`、`a+`、`r+`等适用于一些更底层的API
