如果把所有中间件都直接挂载到 `app` 上，所有的路由和中间件就会混在一起，代码会变得难以维护和管理。

因此，通常会根据不同的业务逻辑，把相关的路由和中间件分成不同的模块。每个模块负责自己的一部分功能，并集中管理自己的中间件和路由。最后，再把这些模块统一挂载到 `app` 上。

这样，每个模块就相当于一个子路由，结构清晰，维护起来也更方便。



## 子路由 「 userRouter.js 」

> 子路由一般放在 `router`  或 `routes` 目录下

```js
import { Router } from 'express'

// 创建子路由对象
const router = Router()

// 子路由路径必须是以 /开头，不能是相对路径
router.get('/list', (req, res) => {
  res.json({
    code: 200,
    users: [
      {
        id: 1,
        name: '张三',
        age: 18
      }
    ]
  })
})

router.post('/add', (req, res) => {
  res.json({
    code: 200,
    message: '创建成功~'
  })
})

export default router
```



## 主入口 「 main.js 」

```js
import express from 'express'
import userRouter from './routers/user.js'

const app = express()

// 使用路由中间件
app.use('/user', userRouter)

app.listen(3000)
```

