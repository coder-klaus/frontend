在 Node.js 中，CommonJS 的实现方式是：`exports` 是一个对象，`require` 返回的其实就是这个对象的引用。

无论修改 `exports` 还是 `require` 返回的对象，效果是一样的，因为它们本质上指向同一个内存地址。



`math.js`

```js
exports.msg = 'Hello Node.js'

setTimeout(() => {
  console.log(exports.msg)
}, 2000)
```



`main.js`

```js
const math = require('./math')

console.log(math.msg)

setTimeout(() => {
  math.msg = 'Hello World'
}, 1000)
```



此时执行`nodemon main.js`, 在控制台输出

```shell
Hello Node.js
Hello World
```



因此可以说明，当你使用 `require` 引入一个模块，比如 `const bar = require('./foo')`，这个 `bar` 实际上就是模块 `foo` 中的 `exports` 对象。也就是说，`bar` 和 `exports` 都指向内存中的同一个对象。
