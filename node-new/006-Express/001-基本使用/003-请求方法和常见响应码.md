## 常见请求方法

| 方法    | 全称    | 作用描述                                 |
| ------- | ------- | ---------------------------------------- |
| GET     | GET     | 获取资源                                 |
| POST    | POST    | 新建资源或提交数据                       |
| PUT     | PUT     | 更新资源（整体替换）                     |
| PATCH   | PATCH   | 更新资源（部分修改）                     |
| DELETE  | DELETE  | 删除资源                                 |
| HEAD    | HEAD    | 获取资源头部信息（不返回主体内容）       |
| OPTIONS | OPTIONS | 预检请求                                 |
| TRACE   | TRACE   | 回显服务器收到的请求，主要用于测试或诊断 |
| CONNECT | CONNECT | 建立隧道，用于代理服务器（如HTTPS连接）  |

将不同的HTTP请求方法（如GET、POST、PUT、PATCH、DELETE等）分别用于不同的资源操作的 API 被称之为 **RESTful API**



### HEAD

1. 只返回响应头，不返回响应体内容
2. 通过 HEAD 方法，可以获取响应头中的各种元数据
   + 比如你想知道一个文件的大小、类型、最后修改时间等信息，但不想把整个文件下载下来。
   + 通过响应状态码，判断资源是否存在、请求是否成功或是否发生了重定向等。



### OPTIONS

### 非简单请求

只要一个请求满足如下条件就是简单请求，其余都是非简单请求

1. 请求方式为 `GET`、`HEAD` 或 `POST`
2. 只能存在 `Accept`、`Accept-Language`、`Content-Language`、`Content-Type`等常见请求头 「 不存在自定义请求头 」
   + `Content-Type` 只能是：`text/plain`、`multipart/form-data`、`application/x-www-form-urlencoded` 
   + 不能是`application/json`



### 预检请求

对于非简单请求，浏览器会在实际请求前自动发送一次 `OPTIONS` 预检请求，以确认服务器是否允许该跨域请求。

1. 服务器在响应中通过 `Access-Control-Allow-Origin`、`Access-Control-Allow-Methods`、`Access-Control-Allow-Headers` 等头部告知浏览器是否允许跨域访问。

   - 如果服务器允许，浏览器才会继续发送实际请求。

   - 如果服务器不允许，浏览器会在控制台报出 CORS 错误，**实际请求不会被发送**。

2. 通过 `Allow` 头部，了解服务器支持哪些 HTTP 方法



对于简单请求，浏览器会直接发出实际请求。
收到响应后，浏览器会检查响应头中的跨域相关字段（如 `Access-Control-Allow-Origin`）：

- 如果允许，前端代码可以正常访问响应内容。
- 如果不允许，浏览器会拦截响应内容，前端无法访问，但**实际请求已经发送到服务器**。



### 总结

`OPTIONS`虽然也可以由开发者手动发送，但一般都是浏览器自动发送，主要用于检查接口支持的请求方法以及是否可以访问跨域资源等

而`HEAD`请求，我们可以手动发送，用于获取一些响应体的元数据信息，如下载文件前获取下载资源的大小信息等



## 常见响应码

**2xx 一般表示请求成功**

| 状态码 | 英文名称   | 中文说明 |
| ------ | ---------- | -------- |
| 200    | OK         | 请求成功 |
| 201    | Created    | 已创建   |
| 204    | No Content | 无内容   |



**3xx一般表示重定向操作**

| 状态码 | 英文名称           | 中文说明   |
| ------ | ------------------ | ---------- |
| 301    | Moved Permanently  | 永久重定向 |
| 302    | Found              | 临时重定向 |
| 304    | Not Modified       | 未修改     |
| 307    | Temporary Redirect | 临时重定向 |
| 308    | Permanent Redirect | 永久重定向 |

> `301/302` 重定向时，客户端发起重定向请求时采用什么方法由客户端自己决定
>
> + **绝大多数浏览器和主流 HTTP 客户端**，在收到 `301` 或 `302` 时，再去访问重定向网页时会使用`GET`请求，而不是`POST`请求
> + 这就是为什么很多网站在做表单提交后，会默认返回`302`状态码，此时浏览器就会以`GET`形式重定向到一个新页面
>
> `307/308` 重定向时，客户端**必须**使用与原请求相同的方法和消息体
>
> + 这两个状态码用于补充和完善 301/302 的行为，使重定向语义更加明确。



**4xx一般表示客户端错误**

| 状态码 | 英文名称           | 中文说明     |
| ------ | ------------------ | ------------ |
| 400    | Bad Request        | 错误请求     |
| 401    | Unauthorized       | 未授权       |
| 403    | Forbidden          | 禁止访问     |
| 404    | Not Found          | 未找到       |
| 405    | Method Not Allowed | 方法不被允许 |
| 429    | Too Many Requests  | 请求过多     |



**5xx一般表示服务器错误**

| 状态码 | 英文名称              | 中文说明       |
| ------ | --------------------- | -------------- |
| 500    | Internal Server Error | 服务器内部错误 |
| 502    | Bad Gateway           | 错误网关       |
| 503    | Service Unavailable   | 服务不可用     |
| 504    | Gateway Timeout       | 网关超时       |

