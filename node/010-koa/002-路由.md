koa 默认不提供 路径匹配中间件 和 路由中间件

如果我们需要，则必须安装第三方库 `@koa/router` 来实现 koa 路由功能

```js
import Koa from 'koa'
import Router from '@koa/router'

const app = new Koa()

const users = [
  { id: 1, name: '张三' },
  { id: 2, name: '李四' },
  { id: 3, name: '王五' },
]

// 创建路由对象 => 需要设置路由前缀
// 可以不设置路由前缀，默认前缀就是空字符串
const router = new Router({ prefix: '/users' })

// 路径匹配中间件
router.use('/', (ctx, next) => {
  console.log('users 路由中间件')
  next()
})

router.get('/', (ctx, next) => {
  ctx.body = users
})

router.get('/:id', (ctx, next) => {
  const { id } = ctx.params
  const user = users.find(user => user.id === parseInt(id))
  ctx.body = user
})

// 和 express 一样，子路由必须通过 / 开头
router.post('/create', (ctx, next) => {
  ctx.body = '创建用户成功'
})

router.put('/:id', (ctx, next) => {
  ctx.body = '更新用户成功'
})

// 添加 user路由
app.use(router.routes())

// 默认情况下，匹配失败，koa只会返回 404 Not Found
// 使用 allowedMethods 可以返回 405 Method Not Allowed
app.use(router.allowedMethods())

app.listen(3000)
```

