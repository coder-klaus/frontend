## 返回文本内容

```js
import Koa from 'koa'

const app = new Koa()

app.use(ctx => {
  // 返回文本数据 并设置响应头为 text/plain
  ctx.body = 'Hello World'
  // 可以通过 ctx.set 来设置响应头
  // ctx.set('Content-Type', 'text/plain')
})

app.listen(3000)
```



## 返回二进制

```js
import Koa from 'koa'

const app = new Koa()

app.use(ctx => {
  // 返回文本数据 并设置响应头为 application/octet-stream
  ctx.body = Buffer.from('Hello World')
})

app.listen(3000)
```



## 返回数据流

```js
import Koa from 'koa'
import fs from 'fs'

const app = new Koa()

app.use(ctx => {
  const stream = fs.createReadStream('./uploads/avatar-1750581078613.jpeg')
  // 设置响应头
  // 不设置，默认当做 application/octet-stream 来处理, 此时客户端会自动按照 8位一个字节来处理
  // 设置为 image/jpeg 后，Content-Type 会自动设置为 image/jpeg
  // 此时客户端会按照 image/jpeg 来处理，并最终显示为图片

  // koa 通过 ctx.set(key, value) 来设置响应头
  // 而 Content-Type 比较特殊，存在简写方式 ctx.type
  // ctx.type = 'image/jpeg' 实际等价于 ctx.set('Content-Type', 'image/jpeg')
  ctx.type = 'image/jpeg'
  // 设置响应体
  ctx.body = stream
})

app.listen(3000)
```



## 返回JSON

```js
import Koa from 'koa'

const app = new Koa()

app.use(ctx => {
  ctx.body = {
    name: '张三',
    age: 20,
    gender: '男',
    email: 'zhangsan@example.com',
    phone: '12345678901',
    address: '北京市海淀区'
  }
})

app.listen(3000)
```



## 什么都不返回

```js
import Koa from 'koa'

const app = new Koa()

app.use(ctx => {
  // 没有任何响应头，koas会自动设置状态码为 204 No Content
  // 默认情况下，有内容返回 200，无内容返回 204
  ctx.body = null
})

app.listen(3000)
```



## 手动设置状态码

```js
import Koa from 'koa'

const app = new Koa()

app.use(ctx => {
  // 设置状态码 为 201 Created
  ctx.status = 201
  // 设置响应体
  ctx.body = 'Hello World'
})

app.listen(3000)
```

