## 什么是JSX

1. JSX 即 `JavaScript XML`，是 JavaScript 的一种语法扩展。

2. JSX 不能直接运行，需要通过 `babel` 转换为 `React.createElement` 方法调用。

   + ``React.createElement` 方法会返回一个用于描述真实 DOM 的 JavaScript 对象

   + 因此：
     1. JSX 看起来可以在JavaScript编写 HTML片段，但这些HTML片段本质上依旧是 JavaScript 代码
        + 这种方式被称为 `HTML in JS`。
        + React 还支持 `css in JS`，实现 `all in js` 的开发模式。
     2. 无论是自定义组件还是原生 HTML 标签，JSX 最终都会被转换为 `createElement` 的调用。
        + 例如：`<h1>Hello</h1>` 会被转为 `React.createElement('h1', null, 'Hello')`，对应一个 React 元素对象

   + 这也是为什么 JSX 可以作为字面量被赋值给变量的原因

     ```jsx
     const message = <h1>Hello World</h1>
     ```

     

## 语法规则

1. **有且只能有一个根元素**

   + 为了不增加额外的 DOM 层级，可以使用空文档标签 `React.Fragment`

   + `<React.Fragment></React.Fragment>` 可以简写为`<></>`

   + 但如果需要添加属性（如 `key`），只能使用 `<React.Fragment>`，不能用简写。

     + `<React.Fragment key={index}></ React.Fragment>`=> ✅正确

     + `< key={index}></>` => ❌错误

   

2. **动态内容使用大括号 `{}` 绑定**

   + JSX 中，所有动态内容（无论是内容还是属性）都用大括号 `{}` 包裹。
     + 这是因为JSX 中只存在插值语法，不像 Vue 的 template 那样 UI 由 插值语法 和 指令 共同组成
   + `{ expression }` 这种写法 叫 大括号写法，或者叫 插值语法
   + 插值语法中可以放任何合法的JavaScript表达式，会先计算表达式的值，再渲染到页面。



3. **标签闭合**

   + JSX 标签既可以用双标签，也可以用单标签。
   + 但如果使用单标签，则必须严格闭合「 又叫自闭合 」例如 `<hr />`。

   

4. **推荐用小括号包裹 JSX**

   + 为了便于换行和提升代码可读性，通常会用小括号将多行 JSX 包裹起来：

     ```jsx
     render() {
     	return (
        <ul>
         <li>Klaus</li>
         <li>Alex</li>
         <li>Steven</li>
        </ul>
       )
     }
     ```

   + 如果不加小括号，只能将 JSX 紧跟在 `return` 语句后：

     ```jsx
     render() {
     	return <ul>
         <li>Klaus</li>
         <li>Alex</li>
         <li>Steven</li>
        </ul>
     }
     ```
   
   + 注意，以下写法是错误的：
   
     ```jsx
     render() {
       return 
         <ul>
           <li>Klaus</li>
           <li>Alex</li>
           <li>Steven</li>
         </ul>
     }
     ```
   
     这种写法由于 `return` 后直接换行，实际返回的是 `undefined`，后面的 JSX 不会被执行。



## 渲染规则

1. **字符串和数字**
   + 会被直接渲染到页面（数字会自动转为字符串后渲染）。
2. **数组**
   + 会将数组中的每一项取出，**依次单独渲染**。
     + 如果数组项是字符串、数字、JSX 元素等可渲染类型，则会正常渲染
     + 如果是其它不可渲染类型元素，则默认不会进行任何渲染操作
3. **其他类型**
   + `null`、`undefined`、`false`、`true` 都不会被渲染，React 会忽略它们。
   + 对象（非 React 元素）不能直接渲染，会报错（如 `{ {a:1} }`）。
   + 函数类型也不能直接渲染，会报错。



### 特殊情况

1. **行内 `style` 样式必须绑定为样式对象**

   + 不能绑定为样式字符串，必须传递一个对象，例如：

     ```jsx
     <div style={{ color: 'red', fontSize: '16px' }}></div>
     ```

   + 面这样写是无效的, 会报错

     ```jsx
     <div style="color: red;"></div>
     ```

2. **对象不能作为 JSX 标签的内容直接渲染，除了 React 元素对象**

   + 普通对象不能直接作为 JSX 的内容，会直接报错
   + 但 React 元素对象（即 React.createElement 的返回值）可以渲染，因为 JSX 最终会被编译为 React 元素对象。

3. **部分 HTML 属性在 JSX 中有特殊名称，以避免与 JavaScript 关键字冲突**

   + 例如:

     + `<label for="username">` 在 JSX 中应写为 `<label htmlFor="username">`

     + `class` 属性在 JSX 中应写为 `className`

   - 这是因为 `for` 和 `class` 在 JavaScript 中分别是关键字和保留字，不能直接作为属性名使用。
